<!DOCTYPE html><html lang="en" class="h-full"> <script>(function(){const personal = {"name":"DamiÃ¡n Pumar","profile":{"src":"/assets/me.vo2-TFoS.jpg","width":1000,"height":1500,"format":"jpg"},"email":"pumar@duck.com","titles":["ğŸ—ï¸ Software Architect ~ ğŸ§® Software Engineer","ğŸ¥‹ Software Craftsman ~ ğŸ¤ Speaker"],"bio":"I'm a <span class=\"underline\">Software Architect</span> and <span class=\"underline\">Sr. software developer</span> with more than <span class=\"underline\">13 years</span> of experience\n    in the industry. I started to work professionally at 2010. I'm a passionate about software development and I love\n    sharing my knowledge with others.\n    I started my career as a fullstack developer <a href=\"https://neoris.com/\" class=\"underline\" target=\"_blank\">@Neoris</a> after that I worked as a Software Craftsman <a href=\"https://www.codurance.com/\" class=\"underline\" target=\"_blank\">@Codurance</a>.\n    Today, I'm mainly focussed on <span class=\"underline\">frontend architecture</span> designing components to make more easy, reusable and scalable web applications like <a href=\"https://github.com/damianpumar/ts-injecty\" class=\"underline\" target=\"_blank\">ts-injecty</a>. I'm also Speaker in different conferences and meetups.","live":{"where":"Spain","image":"ğŸ‡ªğŸ‡¸"},"born":{"where":"Argentina","image":"ğŸ‡¦ğŸ‡·"},"love":{"topics":[{"name":"Software Architecture"},{"name":"Design patterns"},{"name":"TDD"}],"technologies":[{"name":"Nuxt","url":"https://nuxt.com/"},{"name":"Node","url":"https://nodejs.org/"},{"name":"Typescript","url":"https://www.typescriptlang.org/"},{"name":"React","url":"https://reactjs.org/"},{"name":"Qwik","url":"https://qwik.builder.io/"},{"name":"Next","url":"https://nextjs.org/"},{"name":"Go lang","url":"https://go.dev/"},{"name":"Vue","url":"https://vuejs.org/"},{"name":"Azure","url":"https://azure.microsoft.com"},{"name":"Docker","url":"https://www.docker.com"},{"name":"Vite","url":"https://vitejs.dev/"},{"name":"Playwright","url":"https://playwright.dev/"}],"openSource":[{"name":"Argilla","url":"https://github.com/argilla-io/argilla"},{"name":"Ts-injecty","url":"https://github.com/damianpumar/ts-injecty"},{"name":"Svelte","url":"https://github.com/sveltejs/svelte"},{"name":"R2wc","url":"https://github.com/damianpumar/r2wc"}]},"work":[{"name":"Technical coach","at":"@CodeScouts","web":"https://www.codescouts.academy/"},{"name":"Lead Frontend Engineer","at":"@Argilla","web":"https://argilla.io/"}]};
const commitVersion = "da234e45";
const commitDate = "2024.01.12";

  const color = "color: #f87171";
  console.log(`%c Hi developer! ğŸ‘‹. I'm ${personal.name}`, color)
  console.log(`%c Release date: ${commitDate}`, color);
  console.log(`%c Release version: ${commitVersion}`, color);
})();</script> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="Astro v4.0.8"><link rel="alternate" href="https://www.damianpumar.com/blog.xml" type="application/rss+xml"><meta name="title" content="DamiÃ¡n Pumar | Frontend dependency injection container"><meta name="description" content="do you know what dependency injection is? How do dependency injection containers work? In this post I will explain how it works and how you can implement it in your project, we will see the advantages, disadvantages with code examples."><meta property="og:type" content="website"><meta property="og:url" content="https://www.damianpumar.com/blog/2024-01-01/"><meta property="og:title" content="Frontend dependency injection container"><meta property="og:description" content="do you know what dependency injection is? How do dependency injection containers work? In this post I will explain how it works and how you can implement it in your project, we will see the advantages, disadvantages with code examples."><meta property="og:image" content="https://www.damianpumar.com/v1/generate/og/2024-01-01.png"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://www.damianpumar.com/blog/2024-01-01/"><meta property="twitter:title" content="Frontend dependency injection container"><meta property="twitter:description" content="do you know what dependency injection is? How do dependency injection containers work? In this post I will explain how it works and how you can implement it in your project, we will see the advantages, disadvantages with code examples."><meta property="twitter:image" content="https://www.damianpumar.com/v1/generate/og/2024-01-01.png"><meta name="release-date" content="2024.01.12"><meta name="release-version" content="da234e45"><link rel="canonical" href="https://www.damianpumar.com/blog/2024-01-01/"><link rel="icon" type="image/png" href="/favicon.png"><title>DamiÃ¡n Pumar | Frontend dependency injection container</title><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/assets/_slug_.Hnqw7rzG.css" /><script type="module">
</script><style>a[data-astro-cid-p7xutspj].brutal-btn{filter:drop-shadow(5px 5px 0 rgb(0 0 0 / 1));background-color:#fff;display:inline-block;padding:.5rem 1rem;border:2px solid black;transition:all;transition-duration:.5s;animation:ease-in-out;font-family:Sanchez,serif}a[data-astro-cid-p7xutspj].brutal-btn:hover{filter:drop-shadow(3px 3px 0 rgb(0 0 0 / 1));background-color:var(--color)}
</style><style>div[data-astro-cid-hnv2b5w7].brutal-card{background-color:var(--color);border-radius:.5rem;border:3px solid black;filter:drop-shadow(7px 7px 0 rgb(0 0 0 / 1));transition:all;padding:1rem;transition-duration:.5s;animation:ease-in-out}div[data-astro-cid-hnv2b5w7].brutal-card:hover{filter:drop-shadow(5px 5px 0 rgb(0 0 0 / 1))}
</style><style>span[data-astro-cid-4z4ikc6r].brutal-pill{filter:drop-shadow(3px 3px 0 rgb(0 0 0 / 1));user-select:none;background-color:#fff;border-radius:9999px;border:2px solid black;padding:.25rem .75rem;transition:all;transition-duration:.5s;animation:ease-in-out;font-size:small}span[data-astro-cid-4z4ikc6r].brutal-pill:hover{filter:drop-shadow(5px 5px 0 rgb(0 0 0 / 1));background-color:var(--color)}
</style><style>div[data-astro-cid-fp3t7jgg].card{filter:drop-shadow(10px 10px 0 rgb(0 0 0 / 1));transition:all;transition-duration:.5s;animation:ease-in-out}div[data-astro-cid-fp3t7jgg].card:hover{filter:drop-shadow(5px 5px 0 rgb(0 0 0 / 1))}
</style><style>.astro-route-announcer{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}
</style><style>@font-face{font-family:"DM Serif Text";font-style:normal;src:url(/fonts/dm-serif.ttf) format("truetype")}@font-face{font-family:Outfit;font-style:normal;src:url(/fonts/outfit.ttf) format("truetype")}@font-face{font-family:Poppins;font-style:normal;src:url(/fonts/poppins.ttf) format("truetype")}@font-face{font-family:Righteous;font-style:normal;src:url(/fonts/righteous.ttf) format("truetype")}@font-face{font-family:Sanchez;font-style:normal;src:url(/fonts/sanchez.ttf) format("truetype")}.outfit{font-family:Outfit,sans-serif}.righteous{font-family:Righteous,sans-serif}.dm-serif{font-family:"DM Serif Text",serif}.poppins{font-family:Poppins,sans-serif}.sanchez{font-family:Sanchez,serif}
</style><style>html{scroll-behavior:smooth}.card-shadow{border-radius:.5rem;border:3px solid black;-webkit-box-shadow:7px 7px 0px 0px rgb(0 0 0 / 1);-moz-box-shadow:7px 7px 0px 0px rgb(0 0 0 / 1);box-shadow:7px 7px #000;transition:all;transition-duration:.5s;animation:ease-in-out}.card-shadow:hover{-webkit-box-shadow:5px 5px 0px 0px rgb(0 0 0 / 1);-moz-box-shadow:5px 5px 0px 0px rgb(0 0 0 / 1);box-shadow:5px 5px #000}
</style><script src="/assets/ViewTransitions.astro_astro_type_script_index_0_lang.4PK_pqbL.js" type="module"></script></head><body> <header class="border-b-4 border-black flex justify-between p-6 items-center">  <a href="/" title="Home"> <p class="righteous text-3xl md:text-4xl lg:text-5xl select-none"> DamiÃ¡n Pumar </p> </a> <nav class="hidden md:inline-block"> <h2 class="hidden">Navigation</h2> <ul class="flex gap-8 poppins"> <li> <a class="text-lg font-medium hover:text-green hover:underline transition-all duration-150 ease-in-out select-none" href="/" title="Go to Home"> Home </a> </li><li> <a class="text-lg font-medium hover:text-green hover:underline transition-all duration-150 ease-in-out select-none" href="/blog/" title="Go to Blog"> Blog </a> </li><li> <a class="text-lg font-medium hover:text-green hover:underline transition-all duration-150 ease-in-out select-none" href="/events/" title="Go to Events"> Events </a> </li><li> <a class="text-lg font-medium hover:text-green hover:underline transition-all duration-150 ease-in-out select-none" href="mailto:pumar@duck.com" title="Go to Contact"> Contact </a> </li> <li> <a href="https://github.com/damianpumar" class="hover:text-green hover:underline transition-all duration-150 ease-in-out" target="_blank" title="See @DamianPumar on GitHub"> <div class="i-uil-github w-6 h-6"></div> </a> </li><li> <a href="https://twitter.com/damianpumar" class="hover:text-green hover:underline transition-all duration-150 ease-in-out" target="_blank" title="See @DamianPumar on Twitter"> <div class="i-uil-twitter w-6 h-6"></div> </a> </li><li> <a href="https://www.linkedin.com/in/damianpumar/" class="hover:text-green hover:underline transition-all duration-150 ease-in-out" target="_blank" title="See @DamianPumar on Linkedin"> <div class="i-uil-linkedin w-6 h-6"></div> </a> </li><li> <a href="/feed.xml" class="hover:text-green hover:underline transition-all duration-150 ease-in-out" target="_blank" title="See @DamianPumar on RSS"> <div class="i-uil-rss w-6 h-6"></div> </a> </li> </ul> </nav> <nav class="md:hidden flex"> <h2 class="hidden">Mobile Navigation</h2> <ul class="flex flex-row gap-4 text-xl"> <li> <a href="/blog/">Blog</a> </li><li> <a href="/events/">Events</a> </li> </ul> </nav> </header>  <main class="p-6 lg:grid lg:grid-cols-3 flex justify-center"> <aside> <nav class="hidden lg:block sticky top-6"> <ul> <li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#what-is-dependencies-injection"> What is dependencies injection? ğŸ’‰ </a> </li><li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#what-is-an-dependencies-injection-container"> What is an dependencies injection container? ğŸ“¦ </a> </li><li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#why-use-a-dependency-injection-container"> Why use a dependency injection container? ğŸ¤” </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#advantages"> Advantages ğŸ‘Œ </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#disadvantages"> Disadvantages ğŸ‘ </a> </li><li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#how-to-implement-a-dependency-injection-container-in-frontend"> How to implement a dependency injection container in frontend? ğŸ¤” </a> </li><li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#ts-injecty"> ts-injecty ğŸ’‰ </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#advantages-of-ts-injecty"> Advantages of ts-injecty ğŸ‘Œ </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#installation"> Installation ğŸ“¦ </a> </li><li class="py-1">  <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#index"> Index ğŸ“– </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-without-dependencies"> Instantiate objects without dependencies </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-with-one-dependencies"> Instantiate objects with one dependencies </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-with-dependencies-of-dependencies"> Instantiate objects with dependencies of dependencies </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-with-more-than-one-dependency"> Instantiate objects with more than one dependency </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-with-a-singleton-dependency"> Instantiate objects with a singleton dependency </a> </li><li class="py-1"> <span class="inline-block w-4"></span> <a class="hover:text-stone transition-all duration-150 ease-in-out text-dark poppins" href="#instantiate-objects-with-a-interface-dependency"> Instantiate objects with a interface dependency </a> </li> </ul> </nav> </aside> <article class="prose-slate w-sm md:w-prose md:prose poppins"> <a href="/blog/" title="Back to blog">&larr; Back to blog</a> <p class="text-slate text-sm md:text-base">
Published on January 1, 2024 by DamiÃ¡n Pumar </p>  <h1 id="what-is-dependencies-injection">What is dependencies injection? ğŸ’‰</h1>
<p>Dependencies injection is a design pattern that is used to create objects dependent on other objects. Instead of creating dependent objects within the class that uses them, we pass them through the constructor or a method.</p>
<h1 id="what-is-an-dependencies-injection-container">What is an dependencies injection container? ğŸ“¦</h1>
<p>A dependency injection container is a component of our application that knows how to create and inject dependencies. The dependency injection container is responsible for instantiating classes, resolving their dependencies, and providing an instance of the class when requested.</p>
<h1 id="why-use-a-dependency-injection-container">Why use a dependency injection container? ğŸ¤”</h1>
<p>The main reason to use a dependency injection container is to reduce the coupling between classes. The dependency injection container is responsible for creating and injecting dependencies, so the class that uses them does not need to know how to create them.</p>
<h2 id="advantages">Advantages ğŸ‘Œ</h2>
<ul>
<li>Reduces coupling between classes.</li>
<li>Facilitates code reuse.</li>
<li>Facilitates unit testing.</li>
<li>Facilitates the creation of objects.</li>
<li>Facilitates application configuration.</li>
<li>Optimizes application performance.</li>
</ul>
<p>In short, using dependency injection and particularly using a dependency injection container allows us to create more flexible, maintainable and testable applications.</p>
<h2 id="disadvantages">Disadvantages ğŸ‘</h2>
<ul>
<li>Increases the complexity of the application.</li>
<li>Increases the learning curve.</li>
</ul>
<h1 id="how-to-implement-a-dependency-injection-container-in-frontend">How to implement a dependency injection container in frontend? ğŸ¤”</h1>
<p>In frontend we have many options to implement a dependency injection container, in this post we will see how to implement it in a Typescript application, but you can implement it in any frontend framework or library, or in vanilla javascript or even on any backend application.</p>
<p>For this occasion we will use <a href="https://github.com/damianpumar/ts-injecty">ts-injecty</a> a dependency injection container that I have created myself, but you can use any other dependency injection container.</p>
<h1 id="ts-injecty">ts-injecty ğŸ’‰</h1>
<p>Take a look ğŸ™Œ <a href="https://github.com/damianpumar/ts-injecty">https://github.com/damianpumar/ts-injecty</a></p>
<h2 id="advantages-of-ts-injecty">Advantages of ts-injecty ğŸ‘Œ</h2>
<ul>
<li>Zero dependencies.</li>
<li>Javascript and Typescript support.</li>
<li>Lightweight.</li>
<li>No configuration (no reflect-metadata, or extra configurations in tsconfig).</li>
<li>Open source.</li>
<li>Easy to use.</li>
</ul>
<h2 id="installation">Installation ğŸ“¦</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> ts-injecty</span><span style="color:#79B8FF"> --save</span></span></code></pre>
<h1 id="index">Index ğŸ“–</h1>
<h2 id="instantiate-objects-without-dependencies">Instantiate objects without dependencies</h2>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dependencies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(dependencies);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> a</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(a.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h2 id="instantiate-objects-with-one-dependencies">Instantiate objects with one dependencies</h2>
<p>Now letâ€™s see how we can inject an object that depends on another object, in this case <code>A</code> depends on <code>B</code>.
With <code>ts-injecty</code> we can do it in the following way, super simple ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">([</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> resolved</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(ClassWithInterfaceDependency);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved.</span><span style="color:#B392F0">doSomething</span><span style="color:#E1E4E8">()).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"HI"</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h2 id="instantiate-objects-with-dependencies-of-dependencies">Instantiate objects with dependencies of dependencies</h2>
<p>In this case <code>A</code> depends on <code>B</code> and <code>B</code> depends on <code>C</code>, as we can dynamically inject an object that depends on another object that in turn depends on another object, easy ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> c</span><span style="color:#F97583">:</span><span style="color:#B392F0"> C</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.c.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> C</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dependencies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(dependencies);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> a</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(a.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">);</span></span></code></pre>
<h2 id="instantiate-objects-with-more-than-one-dependency">Instantiate objects with more than one dependency</h2>
<p>In this case <code>A</code> depends on <code>B</code> and <code>C</code>, letâ€™s see it ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span></span>
<span class="line"><span style="color:#F97583">    private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#F97583">    private</span><span style="color:#FFAB70"> c</span><span style="color:#F97583">:</span><span style="color:#B392F0"> C</span></span>
<span class="line"><span style="color:#E1E4E8">  ) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y) </span><span style="color:#F97583">+</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.c.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> C</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dependencies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependencies</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">C</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(dependencies);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> a</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(a.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">);</span></span></code></pre>
<blockquote>
<p>As you can see, <a href="https://github.com/damianpumar/ts-injecty">ts-injecty</a> has changed the <code>withDependency</code> method to <code>withDependencies</code> in plural, this is because now we can inject more than one dependency. <code>ts-injecty</code> is smart enough to know that if we pass a single argument to <code>withDependencies</code> it is because we want to inject a single dependency, and if we pass more than one argument it is because we want to inject more than one dependency. In addition, this method will show us in the intellisense the type of argument that we need to pass applying <a href="https://www.geeksforgeeks.org/type-checking-in-compiler-design/">type-checking</a> at compile time.</p>
</blockquote>
<h2 id="instantiate-objects-with-a-singleton-dependency">Instantiate objects with a singleton dependency</h2>
<p><code>ts-injecty</code> by default registers dependencies as <code>transient</code> unless we register an implementation (we will see later).</p>
<p>Letâ€™s see the case where <code>A</code> depends on <code>B</code> and <code>B</code> is a singleton dependency ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(x, y);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  private</span><span style="color:#FFAB70"> lastSum</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#F97583"> =</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> sum</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">x</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">, </span><span style="color:#FFAB70">y</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> number</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#79B8FF">    this</span><span style="color:#E1E4E8">.lastSum </span><span style="color:#F97583">+=</span><span style="color:#E1E4E8"> x </span><span style="color:#F97583">+</span><span style="color:#E1E4E8"> y;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.lastSum;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> dependencies</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> [</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">asSingleton</span><span style="color:#E1E4E8">().</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(dependencies);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> a</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(a.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">3</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> a2</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(a2.</span><span style="color:#B392F0">sum</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">1</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">2</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">6</span><span style="color:#E1E4E8">); </span><span style="color:#6A737D">// 3 + 3</span></span></code></pre>
<h2 id="instantiate-objects-with-a-interface-dependency">Instantiate objects with a interface dependency</h2>
<p>As you know, in <code>typescript</code> interfaces are not transpiled, so this scenario is much simpler than you imagine, since it does not matter if the implementation of that interface is a function, a class or a react hook, <code>ts-injecty</code> has no problem injecting a dependency of an interface, we just need to comply with the contract agreed in the interface.</p>
<p>Letâ€™s see a first implementation of an interface ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  doSomething</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> doSomething</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">doSomething</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#B392F0"> Implementation</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> () </span><span style="color:#F97583">=></span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">    doSomething</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#9ECBFF"> "HI"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">    },</span></span>
<span class="line"><span style="color:#E1E4E8">  };</span></span>
<span class="line"><span style="color:#E1E4E8">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">([</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(Implementation).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> resolved</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved).</span><span style="color:#B392F0">toBeInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved.</span><span style="color:#B392F0">doSomething</span><span style="color:#E1E4E8">()).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"HI"</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>We could also solve this same case, when we have a class that implements the interface, the result is the same, what changes is the configuration of the dependency.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  doSomething</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  constructor</span><span style="color:#E1E4E8">(</span><span style="color:#F97583">private</span><span style="color:#FFAB70"> b</span><span style="color:#F97583">:</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> doSomething</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.b.</span><span style="color:#B392F0">doSomething</span><span style="color:#E1E4E8">();</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> Implementation</span><span style="color:#F97583"> implements</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> doSomething</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#9ECBFF"> "HI"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">([</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">withDependency</span><span style="color:#E1E4E8">(Implementation).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">()]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> resolved</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved).</span><span style="color:#B392F0">toBeInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved.</span><span style="color:#B392F0">doSomething</span><span style="color:#E1E4E8">()).</span><span style="color:#B392F0">toBe</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"HI"</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>I imagine that with all these alternatives, you already have an idea of how you can implement a dependency injection container in your frontend project.</p>
<p>Now, what would happen if you need to change your dependencies at runtime? with <code>ts-injecty</code> it is super simple, the truth is, since you only have to create a class inherit this class to a <code>Factory</code> that is implemented in <code>ts-injecty</code> and then register that class as a dependency, letâ€™s see it ğŸ‘‡.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0"><code><span class="line"><span style="color:#F97583">interface</span><span style="color:#B392F0"> X</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#B392F0">  doSomething</span><span style="color:#E1E4E8">()</span><span style="color:#F97583">:</span><span style="color:#79B8FF"> string</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> A</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> doSomething</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#9ECBFF"> "HI"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> B</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> doSomething</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#9ECBFF"> "BYE"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> { Factory } </span><span style="color:#F97583">from</span><span style="color:#9ECBFF"> "ts-injecty"</span><span style="color:#E1E4E8">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">class</span><span style="color:#B392F0"> FactoryImplementation</span><span style="color:#F97583"> extends</span><span style="color:#B392F0"> Factory</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">  public</span><span style="color:#B392F0"> create</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">type</span><span style="color:#F97583">:</span><span style="color:#9ECBFF"> "A"</span><span style="color:#F97583"> |</span><span style="color:#9ECBFF"> "B"</span><span style="color:#E1E4E8">)</span><span style="color:#F97583">:</span><span style="color:#B392F0"> X</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> (type </span><span style="color:#F97583">===</span><span style="color:#9ECBFF"> "A"</span><span style="color:#E1E4E8">) {</span></span>
<span class="line"><span style="color:#F97583">      return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.resolver.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> this</span><span style="color:#E1E4E8">.resolver.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#E1E4E8">  }</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">Container.</span><span style="color:#B392F0">register</span><span style="color:#E1E4E8">([</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#B392F0">  register</span><span style="color:#E1E4E8">(FactoryImplementation).</span><span style="color:#B392F0">build</span><span style="color:#E1E4E8">(),</span></span>
<span class="line"><span style="color:#E1E4E8">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">const</span><span style="color:#79B8FF"> resolved</span><span style="color:#F97583"> =</span><span style="color:#E1E4E8"> Container.</span><span style="color:#B392F0">resolve</span><span style="color:#E1E4E8">(FactoryImplementation);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved.</span><span style="color:#B392F0">create</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"A"</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBeInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">A</span><span style="color:#E1E4E8">);</span></span>
<span class="line"><span style="color:#B392F0">expect</span><span style="color:#E1E4E8">(resolved.</span><span style="color:#B392F0">create</span><span style="color:#E1E4E8">(</span><span style="color:#9ECBFF">"B"</span><span style="color:#E1E4E8">)).</span><span style="color:#B392F0">toBeInstanceOf</span><span style="color:#E1E4E8">(</span><span style="color:#79B8FF">B</span><span style="color:#E1E4E8">);</span></span></code></pre>
<p>In this case, <code>ts-injecty</code> will automatically inject a <code>Resolver</code> when instantiating this <code>FactoryImplementation</code> that will allow us to resolve the dependencies we need at runtime.</p>
<p>If you liked this post, do not forget to share it with your friends and follow me in <a href="https://twitter.com/damianpumar">Twitter</a> to be aware of my next posts.</p>
<p>AquÃ­ comparto contigo un proyecto de cÃ³mo implementar <code>ts-injecty</code> en un proyecto de React, <a href="https://stackblitz.com/edit/vitejs-vite-tsyhsj">Stackblitz</a></p>
<p>Bye ğŸ™Œ</p>  <p class="text-slate">Written by DamiÃ¡n Pumar</p> <p>Something wrong? <a href="mailto:pumar@duck.com?subject=Feedback about 'Frontend dependency injection container' post">Let me know</a> ğŸ™</p> <a href="/blog/" title="Back to blog">&larr; Back to blog</a> </article> </main> <section class="p-6"> <section class="mt-8"> <div class="brutal-card" data-astro-cid-hnv2b5w7 style="--color: #4ade80;">   <div class="flex justify-between items-start"> <h2 class="text-2xl md:text-4xl lg:text-6xl mb-8 dm-serif">
Recent Blogposts
</h2> <div class="hidden md:block"> <a href="/blog/" target="_self" class="brutal-btn" data-astro-cid-p7xutspj style="--color: #60a5fa;"> Go to blog &rarr; </a> </div> <div class="block md:hidden"> <a href="/blog/" target="_self" class="brutal-btn" data-astro-cid-p7xutspj style="--color: #e879f9;"> to blog </a> </div> </div> <ul class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"> <li> <div class="card bg-white border-3 border-black rounded-lg p-4 h-full flex flex-col justify-between" data-astro-cid-fp3t7jgg> <h3 class="poppins text-lg md:text-xl" data-astro-cid-fp3t7jgg>Communication between &lt;iframe&gt;</h3> <div class="rounded-lg border-3 border-black my-4 h-56" data-astro-cid-fp3t7jgg> <img src="/assets/iframe.niWMmf-f_Z1jkldH.webp" srcset="/assets/iframe.niWMmf-f_AxO27.webp 540w, /assets/iframe.niWMmf-f_Z2rzvna.webp 720w, /assets/iframe.niWMmf-f_ZiNd0m.webp 487w" alt="Communication between <iframe>" sizes="(max-width: 720px) 540px, (max-width: 1600px) 720px, 487px" draggable="false" data-astro-cid-fp3t7jgg class="rounded h-full w-full object-cover object-top select-none" width="974" height="430" loading="lazy" decoding="async"> </div> <p class="poppins" data-astro-cid-fp3t7jgg>The iframe&#39;s are a powerful tool, but sometimes we need to send data from the iframe to the parent window, in this post I will explain how can you send data from &lt;iframe&gt; to its parent window without any cors restriction and sending complex objects.</p>  <div class="flex justify-end my-4"> <a href="/blog/2024-01-03/" target="_self" class="brutal-btn" data-astro-cid-p7xutspj style="--color: #c084fc;"> Read post &rarr; </a> </div> <div class="hidden sm:inline-block"> <p class="poppins mt-2">tags:</p> <div class="flex justify-between items-center"> <ul class="inline-flex flex-wrap gap-3 mt-2"> <li> <a class="sanchez" href="/blog/tags/frontend/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #34d399;"> Frontend </span> </a> </li> </ul>  </div> </div>  </div> </li><li> <div class="card bg-white border-3 border-black rounded-lg p-4 h-full flex flex-col justify-between" data-astro-cid-fp3t7jgg> <h3 class="poppins text-lg md:text-xl" data-astro-cid-fp3t7jgg>Add new functionality with less code âŒ¨ï¸</h3> <div class="rounded-lg border-3 border-black my-4 h-56" data-astro-cid-fp3t7jgg> <img src="/assets/decorator-pattern.SCyGSHWb_ZB4OHI.webp" srcset="/assets/decorator-pattern.SCyGSHWb_Z2oIHcE.webp 540w, /assets/decorator-pattern.SCyGSHWb_ZmESN0.webp 720w, /assets/decorator-pattern.SCyGSHWb_Z1tTbOm.webp 600w" alt="Add new functionality with less code âŒ¨ï¸" sizes="(max-width: 720px) 540px, (max-width: 1600px) 720px, 600px" draggable="false" data-astro-cid-fp3t7jgg class="rounded h-full w-full object-cover object-top select-none" width="1200" height="600" loading="lazy" decoding="async"> </div> <p class="poppins" data-astro-cid-fp3t7jgg>In this post I will explain how can you add it new functionality with less changes are posible, without modifying the design of your application, without breaking any SOLID principles using the decorator pattern.</p>  <div class="flex justify-end my-4"> <a href="/blog/2024-01-02/" target="_self" class="brutal-btn" data-astro-cid-p7xutspj style="--color: #c084fc;"> Read post &rarr; </a> </div> <div class="hidden sm:inline-block"> <p class="poppins mt-2">tags:</p> <div class="flex justify-between items-center"> <ul class="inline-flex flex-wrap gap-3 mt-2"> <li> <a class="sanchez" href="/blog/tags/typescript/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #60a5fa;"> Typescript </span> </a> </li><li> <a class="sanchez" href="/blog/tags/oop/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #e879f9;"> OOP </span> </a> </li><li> <a class="sanchez" href="/blog/tags/design patterns/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #fb923c;"> Design Patterns </span> </a> </li> </ul>  </div> </div>  </div> </li><li> <div class="card bg-white border-3 border-black rounded-lg p-4 h-full flex flex-col justify-between" data-astro-cid-fp3t7jgg> <h3 class="poppins text-lg md:text-xl" data-astro-cid-fp3t7jgg>Reuse Vue component in a directive â™»ï¸</h3> <div class="rounded-lg border-3 border-black my-4 h-56" data-astro-cid-fp3t7jgg> <img src="/assets/reuse-vue-component.21qjCcLa_Z1nkz7i.webp" srcset="/assets/reuse-vue-component.21qjCcLa_jxvvL.webp 540w, /assets/reuse-vue-component.21qjCcLa_2lBjUq.webp 720w, /assets/reuse-vue-component.21qjCcLa_ZKdep7.webp 436w" alt="Reuse Vue component in a directive â™»ï¸" sizes="(max-width: 720px) 540px, (max-width: 1600px) 720px, 436px" draggable="false" data-astro-cid-fp3t7jgg class="rounded h-full w-full object-cover object-top select-none" width="872" height="824" loading="lazy" decoding="async"> </div> <p class="poppins" data-astro-cid-fp3t7jgg>In this post I will show you how to reuse a vue component in a directive without duplicate code or create vanilla javascript replicating this behavior. Sometimes it is necessary to do it because you will have to rewrite all the vue code in vanilla javascript, and sometimes that would be a lot of work, right?</p>  <div class="flex justify-end my-4"> <a href="/blog/2023-12-31/" target="_self" class="brutal-btn" data-astro-cid-p7xutspj style="--color: #60a5fa;"> Read post &rarr; </a> </div> <div class="hidden sm:inline-block"> <p class="poppins mt-2">tags:</p> <div class="flex justify-between items-center"> <ul class="inline-flex flex-wrap gap-3 mt-2"> <li> <a class="sanchez" href="/blog/tags/frontend/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #34d399;"> Frontend </span> </a> </li><li> <a class="sanchez" href="/blog/tags/vue js/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #60a5fa;"> Vue js </span> </a> </li><li> <a class="sanchez" href="/blog/tags/nuxt/"> <span class="brutal-pill" data-astro-cid-4z4ikc6r style="--color: #f472b6;"> Nuxt </span> </a> </li> </ul>  </div> </div>  </div> </li> </ul>   </div> </section> </section>  <footer class="bg-black sanchez p-6 flex flex-row justify-between"> <h2 class="hidden">Footer</h2> <div class="text-white flex flex-row justify-between w-full sm-w-xs"> <span>|</span> <a class="text-blue" href="/" target="_self" title="Go to Home"> Home </a><span>|</span><a class="text-blue" href="/blog/" target="_self" title="Go to Blog"> Blog </a><span>|</span><a class="text-blue" href="/events/" target="_self" title="Go to Events"> Events </a><span>|</span><a class="text-blue" href="mailto:pumar@duck.com" target="_self" title="Go to Contact"> Contact </a><span>|</span> 2024 <span>|</span> </div> </footer> </body></html>